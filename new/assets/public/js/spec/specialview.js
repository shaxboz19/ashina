var visorName = 'visorSettings';

if(lang == 'uz'){
      var template = ' <div id="VisualHeader" style="display: none;">'
    +' <div class="vi_panel container"> <span id="vi-fontsize"><span class="spec-title">Шрифт ўлчами: </span><a href="#"'
    +' id="vi-fontsize-smallest" title="" class="active">A</a><a hre'
    +'f="#" id="vi-fontsize-small" title="" class="'
    +'">A</a><a href="#" id="vi-fontsize-normal" title="'
    +'">A</a><a href="#" id="vi-fontsize-big" title="'
    +'">A</a><a href="#" id="vi-fontsize-bigest" title='
    +'"">A</a></span> <span id="vi-colors"><span class="spec-title" style="margin-right: 5px;">Ранг схемаси: </span>'
    +' <a href="#" id="vi-color1" title="'
    +'" >A</a> <a href="#" id="vi-color'
    +'2" title="" class="active">A</a>'
    +'<a href="#" id="vi-color3" title="'
    +'">А</a></span>' +' <span id="vi-image"> <span  class="spec-title">Расмлар: </span> <a href="#" id="vi-image1"  titl'
    +'e="Изображения: Черно-Белое"><img class="vi-nopart" src="data:image/sv'
    +'g+xml;base64,PHN2ZyBmaWxsPSIjOTk5IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgM'
    +'jQgMjQiIHdpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4'
    +'gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkP'
    +'SJNMTkgM0g1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDI'
    +'tLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02Ljcxb'
    +'C0yLjc1IDMuNTQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg='
    +'="/> </a><a href="#" id="vi-image2" title="'
    +'"><img class="vi-nopart" src="data:image/svg+xml;base64,PHN'
    +'2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZ'
    +'HRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGg'
    +'gZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTkgM0g1Y'
    +'y0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjV'
    +'jMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02LjcxbC0yLjc1IDMuN'
    +'TQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg=="/></a> '
    +'<a href="#" id="vi-image3" title=""'
    +' class="active"><img class="vi-nopart" src="data:image/svg+xml;base64,'
    +'PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIH'
    +'dpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBh'
    +'dGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMyA1dj'
    +'RoMlY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMiAxMEgzdjRjMCAxLjEuOSAyIDIgMmg0'
    +'di0ySDV2LTR6bTE0IDRoLTR2Mmg0YzEuMSAwIDItLjkgMi0ydi00aC0ydjR6bTAtMTZoLT'
    +'R2Mmg0djRoMlY1YzAtMS4xLS45LTItMi0yeiIvPjwvc3ZnPg=="/></a>'
    +'</span><span id="vi-close"> <span t'
    +'itle="" class="active">Сайтнинг тўлиқ талқини</span> <'
    +'/span> </div> </div>';  
}
if(lang == 'oz'){
	var template = ' <div id="VisualHeader" style="display: none;">'
    +' <div class="vi_panel container"> <span id="vi-fontsize"><span class="spec-title">Shrift o`lchami: </span><a href="#"'
    +' id="vi-fontsize-smallest" title="" class="active">A</a><a hre'
    +'f="#" id="vi-fontsize-small" title="" class="'
    +'">A</a><a href="#" id="vi-fontsize-normal" title="'
    +'">A</a><a href="#" id="vi-fontsize-big" title="'
    +'">A</a><a href="#" id="vi-fontsize-bigest" title='
    +'"">A</a></span> <span id="vi-colors"><span class="spec-title" style="margin-right: 5px;">Rang sxemasi: </span>'
    +' <a href="#" id="vi-color1" title="'
    +'" >A</a> <a href="#" id="vi-color'
    +'2" title="" class="active">A</a>'
    +'<a href="#" id="vi-color3" title="'
    +'">А</a></span>' +' <span id="vi-image"> <span  class="spec-title">Rasmlar: </span> <a href="#" id="vi-image1"  titl'
    +'e=""><img class="vi-nopart" src="data:image/sv'
    +'g+xml;base64,PHN2ZyBmaWxsPSIjOTk5IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgM'
    +'jQgMjQiIHdpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4'
    +'gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkP'
    +'SJNMTkgM0g1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDI'
    +'tLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02Ljcxb'
    +'C0yLjc1IDMuNTQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg='
    +'="/> </a><a href="#" id="vi-image2" title="'
    +'"><img class="vi-nopart" src="data:image/svg+xml;base64,PHN'
    +'2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZ'
    +'HRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGg'
    +'gZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTkgM0g1Y'
    +'y0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjV'
    +'jMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02LjcxbC0yLjc1IDMuN'
    +'TQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg=="/></a> '
    +'<a href="#" id="vi-image3" title=""'
    +' class="active"><img class="vi-nopart" src="data:image/svg+xml;base64,'
    +'PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIH'
    +'dpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBh'
    +'dGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMyA1dj'
    +'RoMlY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMiAxMEgzdjRjMCAxLjEuOSAyIDIgMmg0'
    +'di0ySDV2LTR6bTE0IDRoLTR2Mmg0YzEuMSAwIDItLjkgMi0ydi00aC0ydjR6bTAtMTZoLT'
    +'R2Mmg0djRoMlY1YzAtMS4xLS45LTItMi0yeiIvPjwvc3ZnPg=="/></a>'
    +'</span><span id="vi-close"> <span t'
    +'itle="" class="active">Saytning to`liq versiyasi</span> <'
    +'/span> </div> </div>';
}
if(lang == 'ru'){
var template = ' <div id="VisualHeader" style="display: none;">'
    +' <div class="vi_panel container"> <span id="vi-fontsize"><span class="spec-title">Размер шрифта: </span><a href="#"'
    +' id="vi-fontsize-smallest" title="" class="active">A</a><a hre'
    +'f="#" id="vi-fontsize-small" title="" class="'
    +'">A</a><a href="#" id="vi-fontsize-normal" title="'
    +'">A</a><a href="#" id="vi-fontsize-big" title=" '
    +'">A</a><a href="#" id="vi-fontsize-bigest" title='
    +'"">A</a></span> <span id="vi-colors"><span class="spec-title" style="margin-right: 5px;">Цветовая схема: </span>'
    +' <a href="#" id="vi-color1" title="'
    +'" >A</a> <a href="#" id="vi-color'
    +'2" title="" class="active">A</a>'
    +'<a href="#" id="vi-color3" title="'
    +'по черному">А</a></span>' +' <span id="vi-image"> <span  class="spec-title">Изображения: </span> <a href="#" id="vi-image1"  titl'
    +'e=""><img class="vi-nopart" src="data:image/sv'
    +'g+xml;base64,PHN2ZyBmaWxsPSIjOTk5IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgM'
    +'jQgMjQiIHdpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4'
    +'gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkP'
    +'SJNMTkgM0g1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDI'
    +'tLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02Ljcxb'
    +'C0yLjc1IDMuNTQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg='
    +'="/> </a><a href="#" id="vi-image2" title="'
    +'"><img class="vi-nopart" src="data:image/svg+xml;base64,PHN'
    +'2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZ'
    +'HRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGg'
    +'gZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTkgM0g1Y'
    +'y0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjV'
    +'jMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02LjcxbC0yLjc1IDMuN'
    +'TQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg=="/></a> '
    +'<a href="#" id="vi-image3" title=""'
    +' class="active"><img class="vi-nopart" src="data:image/svg+xml;base64,'
    +'PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIH'
    +'dpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBh'
    +'dGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMyA1dj'
    +'RoMlY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMiAxMEgzdjRjMCAxLjEuOSAyIDIgMmg0'
    +'di0ySDV2LTR6bTE0IDRoLTR2Mmg0YzEuMSAwIDItLjkgMi0ydi00aC0ydjR6bTAtMTZoLT'
    +'R2Mmg0djRoMlY1YzAtMS4xLS45LTItMi0yeiIvPjwvc3ZnPg=="/></a>'
    +'</span><span id="vi-close"> <span t'
    +'itle="" class="active">Полная версия сайта</span> <'
    +'/span> </div> </div>';
}

if(lang == 'en'){
var template = ' <div id="VisualHeader" style="display: none;">'
    +' <div class="vi_panel container"> <span id="vi-fontsize"><span class="spec-title">Font size: </span><a href="#"'
    +' id="vi-fontsize-smallest" title="" class="active">A</a><a hre'
    +'f="#" id="vi-fontsize-small" title="" class="'
    +'">A</a><a href="#" id="vi-fontsize-normal" title="'
    +'">A</a><a href="#" id="vi-fontsize-big" title="'
    +'">A</a><a href="#" id="vi-fontsize-bigest" title='
    +'"">A</a></span> <span id="vi-colors"><span class="spec-title" style="margin-right: 5px;">Color scheme: </span>'
    +' <a href="#" id="vi-color1" title="'
    +'" >A</a> <a href="#" id="vi-color'
    +'2" title="" class="active">A</a>'
    +'<a href="#" id="vi-color3" title="'
    +'">А</a></span>' +' <span id="vi-image"> <span  class="spec-title">Images: </span> <a href="#" id="vi-image1"  titl'
    +'e=""><img class="vi-nopart" src="data:image/sv'
    +'g+xml;base64,PHN2ZyBmaWxsPSIjOTk5IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgM'
    +'jQgMjQiIHdpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4'
    +'gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkP'
    +'SJNMTkgM0g1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDI'
    +'tLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02Ljcxb'
    +'C0yLjc1IDMuNTQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg='
    +'="/> </a><a href="#" id="vi-image2" title="'
    +'"><img class="vi-nopart" src="data:image/svg+xml;base64,PHN'
    +'2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZ'
    +'HRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGg'
    +'gZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTkgM0g1Y'
    +'y0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjV'
    +'jMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY1aDE0djE0em0tNS4wNC02LjcxbC0yLjc1IDMuN'
    +'TQtMS45Ni0yLjM2TDYuNSAxN2gxMWwtMy41NC00LjcxeiIvPjwvc3ZnPg=="/></a> '
    +'<a href="#" id="vi-image3" title=""'
    +' class="active"><img class="vi-nopart" src="data:image/svg+xml;base64,'
    +'PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjQgMjQiIH'
    +'dpZHRoPSIzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBh'
    +'dGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMyA1dj'
    +'RoMlY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMiAxMEgzdjRjMCAxLjEuOSAyIDIgMmg0'
    +'di0ySDV2LTR6bTE0IDRoLTR2Mmg0YzEuMSAwIDItLjkgMi0ydi00aC0ydjR6bTAtMTZoLT'
    +'R2Mmg0djRoMlY1YzAtMS4xLS45LTItMi0yeiIvPjwvc3ZnPg=="/></a>'
    +'</span><span id="vi-close"> <span t'
    +'itle="" class="active">Full version of the site</span> <'
    +'/span> </div> </div>';
}

var SpecialView = {
    run: function (runSettings) {
        //global functions
        $("#vi-close").click(function () {
            // $("#vi-open").show();
            SpecialView.visibleOff();
            
        });
        $(".vi-open").click(function () {
            
            SpecialView.visibleOn();
            
        });
        $("#vi-closed").click(function () {
            // $("#vi-open").show();
            SpecialView.visibleOff();
            
        });
        //private
        function getDefaultOrOriginSettings() {
            var settModel = SpecialView.SettingsManager.get();
            if (settModel == null) {
                settModel = SpecialView.settings.defaultSettings;
            }
            return settModel;
        }
        //setting actions
        $("#VisualHeader .vi_panel a").click(function (e) {
            e.preventDefault();
            var mainCor = $(this).attr("Id");

            //get settings model
            var settModel = getDefaultOrOriginSettings();
            switch (mainCor) {
                case "vi-color1":
                    settModel.data["color"] = "black";
                    settModel.data["background-color"] = "";
                    break;
                case "vi-color2":
                    settModel.data["color"] = "white";
                    settModel.data["background-color"] = "black";
                    break;
                case "vi-color3":
                    settModel.data["color"] = "#a9e44d";
                    settModel.data["background-color"] = "#3b2716";
                    break;
                case "vi-fontsize-smallest":
                    settModel.data["font-size"] = "14px";
                    break;
                case "vi-fontsize-small":
                    settModel.data["font-size"] = "16px";
                    break;
                case "vi-fontsize-normal":
                    settModel.data["font-size"] = "18px";
                    break;
                case "vi-fontsize-big":
                    settModel.data["font-size"] = "22px";
                    break;
                case "vi-fontsize-bigest":
                    settModel.data["font-size"] = "24px";
                    break;
                case "vi-image1":
                    settModel.image = "gray";
                    break;
                case "vi-image2":
                    settModel.image = "full";
                    break;
                case "vi-image3":
                    settModel.image = "none";
                    break;
                default:
            }
            SpecialView.PageManager.updatePage(settModel);
        });

        //first load
        var model = SpecialView.SettingsManager.get();
        if (model != null && model.visibly == true) {
            SpecialView.visibleOn();
        }
    },
    visibleOn: function () {
        $("#VisualHeader").show();
       
        $(".vi-open").hide();
        $('body').addClass('special-view');
         $('.header').addClass('top-50');
        SpecialView.PageManager.updatePage(SpecialView.SettingsManager.get());
    },
    visibleOff: function () {
        var model = SpecialView.SettingsManager.get();
        model.visibly = false;
        $('body').removeClass('spec-vision');
         $('.header').removeClass('top-50');
        SpecialView.SettingsManager.set(model);
        window.location.reload();
    },

    SettingsManager: {
        get: function () {
            if (localStorage.getItem(visorName) != null) {
                return JSON.parse(localStorage.getItem(visorName));
            }
            else {
                return null;
            }
        },
        set: function (setting) {
            SpecialView.SettingsManager.clear();
            localStorage.setItem(visorName, JSON.stringify(setting));
        },
        clear: function () {
            localStorage.removeItem(visorName);
        }
    },
    PageManager: {
        updatePage: function (model) {
            if (model == null) {
                model = SpecialView.settings.defaultSettings;
            }
            model.visibly = true;
            SpecialView.SettingsManager.set(model);

            var data = model.data;

            //update VisualHeader
            $("#VisualHeader .vi_panel #vi-colors").children().removeClass("active");
            $("#VisualHeader .vi_panel #vi-fontsize").children().removeClass("active");
            $("#VisualHeader .vi_panel #vi-image").children().removeClass("active");
            //fontSize
            switch (data["font-size"]) {
                case "14px":
                    $("#VisualHeader .vi_panel #vi-fontsize #vi-fontsize-smallest").addClass("active");
                    $('body').addClass('vi-fontsize-smallest');
                    $('body').removeClass('vi-fontsize-small vi-fontsize-normal vi-fontsize-big vi-fontsize-bigest');                   
                    break;
                case "16px":
                    $("#VisualHeader .vi_panel #vi-fontsize #vi-fontsize-small").addClass("active");
                    $('body').addClass('vi-fontsize-small');
                    $('body').removeClass('vi-fontsize-smallest vi-fontsize-normal vi-fontsize-big vi-fontsize-bigest'); 
                    break;
                case "18px":
                    $("#VisualHeader .vi_panel #vi-fontsize #vi-fontsize-normal").addClass("active");
                    $('body').addClass('vi-fontsize-normal');
                     $('body').removeClass('vi-fontsize-smallest vi-fontsize-small vi-fontsize-big vi-fontsize-bigest'); 
                    break
                case "22px":
                    $("#VisualHeader .vi_panel #vi-fontsize #vi-fontsize-big").addClass("active");
                    $('body').addClass('vi-fontsize-big');
                     $('body').removeClass('vi-fontsize-smallest vi-fontsize-small vi-fontsize-normal vi-fontsize-bigest'); 
                    break
                case "24px":
                    $("#VisualHeader .vi_panel #vi-fontsize #vi-fontsize-bigest").addClass("active");
                    $('body').addClass('vi-fontsize-bigest');
                     $('body').removeClass('vi-fontsize-smallest vi-fontsize-small vi-fontsize-normal vi-fontsize-big'); 
                    break;
                default:
            }
            //Color
            switch (data["color"]) {
                case "black":
                    $("#VisualHeader .vi_panel #vi-colors #vi-color1").addClass("active");
                    $('body').addClass('vi-color1');
                    $('body').removeClass('vi-color2');
                    $('body').removeClass('vi-color3');
                    break;
                case "white":
                    $("#VisualHeader .vi_panel #vi-colors #vi-color2").addClass("active");
                    $('body').addClass('vi-color2');
                    $('body').removeClass('vi-color1');
                    $('body').removeClass('vi-color3');
                    break;
                case "#a9e44d":
                    $("#VisualHeader .vi_panel #vi-colors #vi-color3").addClass("active");
                    $('body').addClass('vi-color3');
                    $('body').removeClass('vi-color1');
                    $('body').removeClass('vi-color2');
                    break;
                default:
            }
            //Color
            switch (model.image) {
                case "gray":
                    $("#VisualHeader .vi_panel #vi-image #vi-image1").addClass("active");
                    $('img:not(.vi-nopart)').css("-webkit-filter", "grayscale(100%)");
                    $('body').addClass('gray-v');
                    $('body').removeClass('full-v');
                    $('body').removeClass('none-v');
                    break;
                case "full":
                    $("#VisualHeader .vi_panel #vi-image #vi-image2").addClass("active");
                    $('img:not(.vi-nopart)').css("-webkit-filter", "");
                    $('img:not(.vi-nopart)').css("display", "");
                    $('body').addClass('full-v');
                    $('body').removeClass('gray-v');
                    $('body').removeClass('none-v');
                    break;
                case "none":
                    $("#VisualHeader .vi_panel #vi-image #vi-image3").addClass("active");
                    $('img:not(.vi-nopart)').css("display", "none");
                    $('body').addClass('none-v');
                    $('body').removeClass('full-v');
                    $('body').removeClass('gray-v');
                    break;
                default:
            }

          //  $('img').css("-webkit-filter", "grayscale(100%)");
           // $('iframe').css("display", "none");
            $('*').map(function () {

                //console.log();
                if (this.nodeName != 'I' && this.nodeName != 'HTML' && this.nodeName != 'HEAD' && this.id != "VisualHeader" && !$(this).hasClass("vi-nopart")) {

                    if ($(this).parents("#VisualHeader").length != 1) { //&& $(this).parent().parent().attr("id") != "VisualHeader" && $(this).parent().parent().parent().attr("id") != "VisualHeader") {
                        //для искючений
                        if (!$(this).hasClass("blog-item-small-image-responsive")) {
                            $(this)
                           //.css("background", data['background'])
                           .css("color", data['color'])
                           .css("font-size", data['font-size'])
                           //.css("box-shadow", data['box-shadow'])
                           //.css("font-family", data['font-family'])
                           .css("text-shadow", data['text-shadow'])
                           .css("letter-spacing", data['letter-spacing'])
                           //.css("font-weight", data['font-weight'])
                        //   .css("background-color", data['background-color'])
                          // .css("background", data['background-color'])
                           //.css("border", data['border']);
                        }
                        else {
                            switch (model.image) {
                                case "gray":
                                    $(this).css("-webkit-filter", "grayscale(100%)");
                                    $(this).css("display", "");
                                    break;
                                case "full":
                                    $(this).css("-webkit-filter", "");
                                    $(this).css("display", "");
                                    break;
                                case "none":
                                    $(this).css("display", "none");
                                    break;
                                default:
                            }
                        }

                    }
                }
            });

            //for Rosgvard design
           // $("div.logo-ka h1").css("line-height", "0px").css("font-size", "80px");
            $("div.logo-ka h1").css("font-size", "80px");
            $("div.logo-ka h2").hide();
            //$(".margin-left-130").removeClass();

        }
    },
    settings: {
        defaultSettings: {
            visibly: false,
            data: {
                //"background": "none",
                "filter": "grayscale(100%)",
                "color": "black",
                "font-size": "18px",
                //"box-shadow": "none",
                //"font-family": "Arial, sans-serif",
                "text-shadow": "none",
                "letter-spacing": "0px",
                "font-weight": "0px",
               "background-color": "white",
                //"border": "none",
            },
            image:"gray"
        }
    },
    htmlBody:template,
    
    // Saytning to'liq versiyasi
}
 $('body').before(SpecialView.htmlBody);